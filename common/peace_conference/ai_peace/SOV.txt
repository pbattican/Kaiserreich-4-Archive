# Scripted AI desire for peace actions.
# See documentation.info file for more detailed scripting information.

peace_ai_desires = {
	SOV_dont_contest_INT_allies = {
		peace_action_type = take_states
		enable = {
			SOV = { is_faction_leader = yes }
			INT = { pc_is_winner = yes }
			ROOT.FROM.FROM.FROM = {
				NOT = { is_claimed_by = ROOT }
				NOT = { is_core_of = ROOT }
				NOT = { has_variable = ambition_area_@ROOT }
			}
			ROOT = {
				OR = {
					AND = {
						is_in_faction_with = SOV
						any_of_scopes = {
							array = global.pc_winners_array
							is_in_faction_with = INT
							NOT = { tag = ROOT.FROM }
							if = {
								limit = { is_subject = yes }
								ROOT.FROM.FROM.FROM = {
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
									}
								}
							}
							else = {
								ROOT.FROM.FROM.FROM = {
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
										has_variable = ambition_area_@PREV
									}
								}
							}
						}
					}
					AND = {
						is_in_faction_with = INT
						any_of_scopes = {
							array = global.pc_winners_array
							is_in_faction_with = SOV
							NOT = { tag = ROOT.FROM }
							if = {
								limit = { is_subject = yes }
								ROOT.FROM.FROM.FROM = {
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
									}
								}
							}
							else = {
								ROOT.FROM.FROM.FROM = {
									OR = {
										is_claimed_by = PREV
										is_core_of = PREV
										has_variable = ambition_area_@PREV
									}
								}
							}
						}
					}
				}
			}
		}
		ai_desire = -60
	}
}
